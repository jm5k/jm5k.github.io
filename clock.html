<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>24-Hour Linear Clock | Minimal View</title>
<meta name="description" content="Minimal 24-hour linear clock by jm5k — a sleek web app visualizing your day as a single timeline with live updates.">
<meta name="keywords" content="linear clock, jm5k, minimalist clock, 24-hour timeline, time visualization">
<meta name="author" content="jm5k">
<link rel="icon" href="https://jm5k.github.io/profile.png" type="image/png">

<style>
  body {
    background:#000;
    color:#ccc;
    font-family:monospace;
    text-align:center;
    margin-top:4%;
  }
  a, a:visited, a:hover, a:active { color:#0ff; }

  #currentTimeTop { color:#0ff; font-size:1.8em; margin-bottom:8px; }
  #bar { position:relative; width:95%; height:60px; margin:8px auto; background:#111; border:2px solid #666; border-radius:6px; overflow:hidden; }
  #ticks { position:absolute; top:0; left:0; width:100%; height:100%; }
  .tick { position:absolute; top:0; height:100%; }
  .tick.qtr { width:1px; background:rgba(255,255,255,0.1); }
  .tick.hour { width:2px; background:rgba(255,255,255,0.3); }
  #marker { position:absolute; top:0; width:4px; height:100%; background:red; }
  .label { display:flex; justify-content:space-between; width:95%; margin:8px auto 6px; font-size:0.9em; color:#888; }
  .workhour { color:yellow; }
  #statsBottom { color:#9cf; margin-top:6px; font-size:1.1em; }

  /* Slider toggle */
  #controls { margin:10px 0 6px; }
  .switch { display:inline-flex; align-items:center; gap:.6rem; cursor:pointer; color:#9cf; user-select:none; }
  .switch input { position:absolute; opacity:0; width:0; height:0; }
  .slider {
    position:relative; width:44px; height:24px; background:#333; border:1px solid #555; border-radius:999px;
    transition:background .2s ease, border-color .2s ease; box-shadow:inset 0 0 0 2px rgba(0,0,0,.2);
  }
  .slider::before {
    content:""; position:absolute; height:18px; width:18px; left:3px; top:50%; transform:translateY(-50%);
    background:#bbb; border-radius:50%; transition:left .18s ease, background .2s ease, box-shadow .2s ease;
    box-shadow:0 1px 3px rgba(0,0,0,.5);
  }
  .switch input:checked + .slider { background:#0b3a3a; border-color:#0aa; }
  .switch input:checked + .slider::before { left:23px; background:#0ff; }
  .switch input:focus-visible + .slider { outline:2px solid #0ff; outline-offset:3px; }
  .switch-label { font-size:.95em; color:#9cf; letter-spacing:.2px; }
</style>
</head>
<body>

<div id="currentTimeTop"></div>

<div id="bar">
  <div id="ticks"></div>
  <div id="marker"></div>
</div>

<div class="label" id="hourLabels"></div>
<div id="statsBottom"></div>

<!-- ✅ Slider toggle -->
<div id="controls">
  <label class="switch" title="Switch between 12h and 24h">
    <input id="formatToggle" type="checkbox" aria-label="Toggle 24-hour time">
    <span class="slider"></span>
    <span id="formatLabel" class="switch-label">24-hour</span>
  </label>
</div>

<script>
function createTicks(){
  const t=document.getElementById('ticks');
  for(let h=0;h<24;h++){
    for(let q=0;q<4;q++){
      const pos=(h+q/4)/24*100;
      const d=document.createElement('div');
      d.className='tick '+(q===0?'hour':'qtr');
      d.style.left=`calc(${pos}% - 1px)`;
      t.appendChild(d);
    }
  }
}

let use24h=JSON.parse(localStorage.getItem('use24h')??'true');

function formatHourLabel(h24){
  if(use24h)return String(h24).padStart(2,'0');
  const h=h24%24,base=(h%12)||12;
  return String(base).padStart(2,'0');
}

function renderHourLabels(){
  const l=document.getElementById('hourLabels');
  l.innerHTML='';
  for(let h=0;h<=24;h++){
    const s=document.createElement('span');
    s.textContent=formatHourLabel(h);
    if(h>=8&&h<=17)s.classList.add('workhour');
    l.appendChild(s);
  }
}

function fmtHMS(t){
  const s=Math.max(0,Math.floor(t));
  const hh=String(Math.floor(s/3600)).padStart(2,'0');
  const mm=String(Math.floor(s%3600/60)).padStart(2,'0');
  const ss=String(s%60).padStart(2,'0');
  return`${hh}:${mm}:${ss}`;
}

function formatClockTime(h,m){
  if(use24h)return`${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}`;
  let x=h%12;if(x===0)x=12;
  const a=h>=12?'PM':'AM';
  return`${String(x).padStart(2,'0')}:${String(m).padStart(2,'0')} ${a}`;
}

function updateClock(){
  const n=new Date();const h=n.getHours(),m=n.getMinutes(),s=n.getSeconds();
  document.getElementById('marker').style.left=`calc(${h+m/60+s/3600}/24*100%)`;
  document.getElementById('currentTimeTop').textContent=formatClockTime(h,m);
  const e=h*3600+m*60+s,d=24*3600,p=e/d*100,r=d-e;
  document.getElementById('statsBottom').textContent=`${p.toFixed(2)}% of day elapsed | ${fmtHMS(r)} remaining`;
}

createTicks();renderHourLabels();updateClock();setInterval(updateClock,1000);

const t=document.getElementById('formatToggle'),l=document.getElementById('formatLabel');
t.checked=use24h;l.textContent=use24h?'24-hour':'12-hour';
t.addEventListener('change',()=>{
  use24h=t.checked;
  localStorage.setItem('use24h',JSON.stringify(use24h));
  l.textContent=use24h?'24-hour':'12-hour';
  renderHourLabels();updateClock();
});
</script>

<footer style="margin-top:12px;font-size:0.9em;color:#777;">
  <p>© 2025 <strong>jm5k</strong></p>
  <a href="index.html">Home</a>
</footer>
</body>
</html>
